const execBuffer = require('exec-buffer');
const zopflipng = require('zopflipng-bin');

module.exports = buffer => execBuffer({
  input: buffer,
  bin: zopflipng,
  args: [
    '-y',
    '--lossy_8bit',
    '--lossy_transparent',
    execBuffer.input,
    execBuffer.output
  ]
});
